@model LibraryApp1.ViewModels.BooksViewModel

<div class="col-md-offset-5">

    <h1>Add Book</h1>
</div>
<div class="row">
    <div class="col-md-4 col-md-offset-4">
        <form asp-action="AddBook" enctype="multipart/form-data" method="post">
            <div asp-validation-summary="All"></div>
            <div class="form-group">
                <label asp-for="Books.bookTitle" class="control-label">Title</label>
                <input asp-for="Books.bookTitle" class="form-control" />
            </div>
            <div class="form-group">
                <label asp-for="Authors.authorName" class="control-label">Author</label>
                <input asp-for="Authors.authorName" class="form-control" />
            </div>
            <div class="form-gr   oup">
                <label asp-for="Categories.Id" class="control-label">Category</label>
                <select asp-for="Categories.Id"
                        class="form-control" asp-items="@(new SelectList(@ViewBag.ListOfCategories,"Id","categoryName"))"></select>
            </div>
            <div class="form-group">
                <label class="control-label">Quantity</label>
                <input class="form-control" asp-for="Books.Numbers" />
            </div>
            <div class="form-group">
                <label asp-for="Books.image" class="control-label">Cover photo</label>
                <input name="files" type="file" id="files" class="form-control" onchange="fileupload('files');" />
            </div>
            <div class="col-md-offset-3 booksimage1">
                <img src="#" id="imgset" />
            </div>
            <div>
                <input class="btn btn-primary" type="submit" value="Add" />
            </div>
        </form>
    </div>
</div>



<script>
    function readURL(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();

            reader.onload = function (e) {
                $('#imgset').attr('src', e.target.result);
            }

            reader.readAsDataURL(input.files[0]);
            console.log("readUrl called!");
        }
    }


    //$(document).on("change", "#imageFile", function () {
    //    console.log("change input file called.");
    //    readURL(this);

    //});

    $('#files').on('change', function () {
            readURL(this);
    });
</script>


